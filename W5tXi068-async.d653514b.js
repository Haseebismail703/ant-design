(("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd=("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd||[]).push([["W5tXi068"],{W5tXi068:function(e,r,s){"use strict";s.d(r,"__esModule",{value:!0}),s.d(r,"default",{enumerable:!0,get:function(){return d;}});var l=s("9lWhVE4R");s("vA2aaiFs");var t=s("NIchKEYm"),n=s("dXftLIYJ"),a=s("B-i5_7B2");let i={labelCol:{span:8},wrapperCol:{span:16}},o={wrapperCol:{offset:8,span:16}},u=({form:e,open:r})=>{let s=(0,t.useRef)();(0,t.useEffect)(()=>{s.current=r;},[r]);let l=s.current;(0,t.useEffect)(()=>{!r&&l&&e.resetFields();},[e,l,r]);},m=({open:e,onCancel:r})=>{let[s]=a.Form.useForm();return u({form:s,open:e}),(0,l.jsx)(a.Modal,{title:"Basic Drawer",open:e,onOk:()=>{s.submit();},onCancel:r,children:(0,l.jsxs)(a.Form,{form:s,layout:"vertical",name:"userForm",children:[(0,l.jsx)(a.Form.Item,{name:"name",label:"User Name",rules:[{required:!0}],children:(0,l.jsx)(a.Input,{})}),(0,l.jsx)(a.Form.Item,{name:"age",label:"User Age",rules:[{required:!0}],children:(0,l.jsx)(a.InputNumber,{})})]})});};var d=()=>{let[e,r]=(0,t.useState)(!1);return(0,l.jsxs)(a.Form.Provider,{onFormFinish:(e,{values:s,forms:l})=>{if("userForm"===e){let{basicForm:e}=l,t=e.getFieldValue("users")||[];e.setFieldsValue({users:[...t,s]}),r(!1);}},children:[(0,l.jsxs)(a.Form,{...i,name:"basicForm",onFinish:e=>{console.log("Finish:",e);},style:{maxWidth:600},children:[(0,l.jsx)(a.Form.Item,{name:"group",label:"Group Name",rules:[{required:!0}],children:(0,l.jsx)(a.Input,{})}),(0,l.jsx)(a.Form.Item,{name:"users",noStyle:!0}),(0,l.jsx)(a.Form.Item,{label:"User List",shouldUpdate:(e,r)=>e.users!==r.users,children:({getFieldValue:e})=>{let r=e("users")||[];return r.length?(0,l.jsx)(a.Flex,{vertical:!0,gap:8,children:r.map(e=>(0,l.jsxs)(a.Space,{children:[(0,l.jsx)(a.Avatar,{icon:(0,l.jsx)(n.UserOutlined,{})}),`${e.name} - ${e.age}`]},e.name))}):(0,l.jsxs)(a.Typography.Text,{className:"ant-form-text",type:"secondary",children:["( ",(0,l.jsx)(n.SmileOutlined,{})," No user yet. )"]});}}),(0,l.jsxs)(a.Form.Item,{...o,children:[(0,l.jsx)(a.Button,{htmlType:"submit",type:"primary",children:"Submit"}),(0,l.jsx)(a.Button,{htmlType:"button",style:{margin:"0 8px"},onClick:()=>{r(!0);},children:"Add User"})]})]}),(0,l.jsx)(m,{open:e,onCancel:()=>{r(!1);}})]});};}}]);
//# sourceMappingURL=W5tXi068-async.d653514b.js.map