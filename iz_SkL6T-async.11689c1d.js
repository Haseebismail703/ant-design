(("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd=("undefined"!=typeof globalThis?globalThis:self).makoChunk_antd||[]).push([["iz_SkL6T"],{iz_SkL6T:function(e,l,a){"use strict";a.d(l,"__esModule",{value:!0}),a.d(l,"default",{enumerable:!0,get:function(){return r;}});var t=a("9lWhVE4R");a("OJBIXG5d");var n=a("NIchKEYm"),i=a("dXftLIYJ"),o=a("B-i5_7B2");let s=({value:e,onChange:l})=>{let[a,s]=(0,n.useState)(),r=()=>({dir:"user-dir/",expire:"1577811661",host:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",accessId:"c2hhb2RhaG9uZw==",policy:"eGl4aWhhaGFrdWt1ZGFkYQ==",signature:"ZGFob25nc2hhbw=="}),d=async()=>{try{let e=await r();s(e);}catch(e){o.message.error(e);}};(0,n.useEffect)(()=>{d();},[]);let u=async e=>{if(!a)return!1;let l=1e3*Number(a.expire);l<Date.now()&&await d();let t=e.name.slice(e.name.lastIndexOf(".")),n=Date.now()+t;return e.url=a.dir+n,e;},c={name:"file",fileList:e,action:null==a?void 0:a.host,onChange:({fileList:e})=>{console.log("Aliyun OSS:",e),null==l||l([...e]);},onRemove:a=>{let t=(e||[]).filter(e=>e.url!==a.url);l&&l(t);},data:e=>({key:e.url,OSSAccessKeyId:null==a?void 0:a.accessId,policy:null==a?void 0:a.policy,Signature:null==a?void 0:a.signature}),beforeUpload:u};return(0,t.jsx)(o.Upload,{...c,children:(0,t.jsx)(o.Button,{icon:(0,t.jsx)(i.UploadOutlined,{}),children:"Click to Upload"})});};var r=()=>(0,t.jsx)(o.Form,{labelCol:{span:4},children:(0,t.jsx)(o.Form.Item,{label:"Photos",name:"photos",children:(0,t.jsx)(s,{})})});}}]);
//# sourceMappingURL=iz_SkL6T-async.11689c1d.js.map